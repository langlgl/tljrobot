<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="/js/ajaxGetHtml.js"></script>
    <script>
        $(function () {
            getNewsType();
        })
        function getNewsType() {
            $.ajax({
                type: 'POST',
                contentType: 'application/json;charset=utf-8',
                url: '/home/getNewsTypeMap/1/5',
                dataType: 'json',
                success: function (data) {
                    var result = data['message'];
                    if(result=="获取成功"){
                        var news = data['result'];
                        for(let i in news){
                            for(let index in news[i]){
                                var tb = $('#'+i);
                                tb.append('<tr></tr>')
                                let tr = tb.find("tr:last");
                                tr.append('<td><a onclick="showArticle('+news[i][index]['id']+')">'+news[i][index]['title']+'</a>'+
                                   '<span class="label label-info" style="float:right">'+news[i][index]['clickNum']+'</span></td>')
                            }
                        }
                    }
                },
                error: function (err) {
                    alert(JSON.stringify(err));
                }
            });
        }
        function showArticle(id) {
            $("#articleId").val(id);
            sessionStorage.articleId=id;
            instead("/home/showArticle","#instead");
        }
        function showArticlesByType(type) {
            sessionStorage.articleType=type;
            instead('/home/moreArticles','#instead')
        }
    </script>
</head>
<body>
<div class="container" style="margin-top: 15px">
    <div class=row>
        <div class="col-sm-4">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h3 class="panel-title">新鲜出炉<a onclick="showArticlesByType('新鲜出炉')" class="pull-right">更多</a></h3>
                </div>
                <div class="panel-body">
                    <table class="table table-bordered table-hover">
                        <tbody id="新鲜出炉">
<!--                            <tr><td>-->
<!--                                <a href="">拖拉机社区测试启动啦</a>-->
<!--                                <span class="label label-info" style="float:right"></span>-->
<!--                            </td></tr>-->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        <div class="col-sm-8">
            <div class="row" id="typeArticle">
                <div class="col-sm-6">
                    <div class="panel panel-default">
                        <table class="table table-bordered table-hover">
                            <caption>方案魔改<a onclick="showArticlesByType('方案魔改')" class="pull-right">更多</a></caption>
                            <tbody id="方案魔改">
                            <!--<tr><td>
                                 <a href="">文章标题</a>
                                 <span class="label label-info" style="float:right">点击量</span>
                             </td></tr>-->
                            </tbody>
                        </table>
                    </div>
                    <div class="panel panel-default">
                        <table class="table table-bordered table-hover">
                            <caption>提升分享<a onclick="showArticlesByType('提升分享')" class="pull-right">更多</a></caption>
                            <tbody id="提升分享">
                            <!--<tr><td>
                                <a href="">文章标题</a>
                                <span class="label label-info" style="float:right">点击量</span>
                            </td></tr>-->
                            </tbody>
                        </table>
                    </div>
                </div>
                <div class="col-sm-6">
                    <div class="panel panel-default">
                        <table class="table table-bordered table-hover">
                            <caption>方案教学<a onclick="showArticlesByType('方案教学')" class="pull-right">更多</a></caption>
                            <tbody id="方案教学">
                            <!--<tr><td>
                                <a href="">文章标题</a>
                                <span class="label label-info" style="float:right">点击量</span>
                            </td></tr>-->
                            </tbody>
                        </table>
                    </div>
                    <div class="panel panel-default">
                        <table class="table table-bordered table-hover">
                            <caption>速度录屏<a onclick="showArticlesByType('速录录屏')" class="pull-right">更多</a></caption>
                            <tbody id="速度录屏">
                            <!--<tr><td>
                                <a href="">文章标题</a>
                                <span class="label label-info" style="float:right">点击量</span>
                            </td></tr>-->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<input type="text" style="display: none" id="articleId">
</body>
</html>